# ES2020-JavaScript #5-1

### 로또 추첨기와 map

- 로또 추첨기를 구현하는 데에 있어서 비동기의 개념이 들어간다.

  ex) 1초에 하나씩 볼을 나타내는 setTimeout

- `.map` 이라는 함수는 그 배열의 안에 있는 값을 각각 1:1로 어떻게 바꿔줄지 실행하는 함수

- ex) [1, 2, 3] 을 [10, 20, 30] 으로 바꿔주고 싶다면

  `numbers.map((a) => { return a * 10})` 이런 식으로 써주면 되는데 

  중괄호 다음에 바로 return을 한다면 생략가능하고 소괄호도 생략 가능하다.

  그래서 전부 생략한다면 `numbers.map(a => a * 10)` 이런 식으로 쓸 수 있다.



## #5-2 함수와 매개변수, 인수, 리턴값

```javascript
// 옛날 방식의 함수
function add(a, b, c) {
	return a + b + c
}

// 애로우 함수
const add = (a, b, c) => {
    return a + b + c
}

// 중괄호 뒤에 바로 리턴한다면 return 생략 가능
const add = (a, b, c) => a + b + c
```

- numbers = Array(45).fill().map((v, i)) => i + 1) : 1~45까지 공을 만드는 배열

  Array(숫자) 뒤에는 무조건 `.fill()` 이 붙어야 합니다. 그리고 fill() 안에 수를 넣을 수 있는데 아무것도 안 넣으면 default인 undefined로 설정됩니다.

  map() 안에는 인자를 넣을 수 있는데 인자가 두 개 이상이면 소괄호로 감싸고

  두 번째 인자는 index 번호로 쓰인다. ex) map((i, j) => j+1) 이라면 j는 인덱스 번호이고 v는 fill() 안에 있는 숫자로 지금은 없으므로 undefined 이다.



## #5-3 셔플 후 랜덤 추출하기

- 랜덤 추출을 다른 방식으로 해보자. 피셔-H 방식으로 

  미리 무작위로 섞은 후에 앞에서부터 뽑아야 할 갯수만큼 자르는 방식

- `.splice(idx, 뽑는 갯수)` 로 splice(1, 2) 이면 index 1과 index 2 를 뽑아서 배열로 반환해준다. ex) [1, 2, 3].splice(1, 2) => [2, 3] 을 반환해준다. 

- `const value = 배열.splice()` 로 만들면 splice()는 리스트에 담겨서 반환되기 때문에 리스트가 아닌 값을 얻고 싶다면 `const value = 배열.splice()[0]` 으로 작성해줘야 정확하다.

- 인덱스 슬라이싱은 `.slice(시작인덱스, 끝인덱스)` 인데 python과 마찬가지로 끝인덱스 -1 까지 뽑아준다. 즉 .slice(0, 6) 을 하면 0, 1, 2, 3, 4, 5 까지 6개가 담긴다.



## #5-4 배열 정렬하기

- `.sort()` 를 배열 뒤에 붙여주면 된다. 그러나 주의할 점이 있다.

  __숫자 순이 아닌 사전 순으로 정렬되므로 수는 완벽히 안된다.__

  ex) 20, 7, 30, 50 이 있다면 20, 30, 50 ,7 로 앞의 숫자가 더 작은순으로 정렬이 잘못 된다.

  따라서, `.sort((p, c) => {return p - c})` 매개변수 p는 prev의 뜻, c는 current로 이름은 아무거나 써도 상관없다. p - c 가 0보다 크면 자리를 바꾼다. 

  이렇게 해야 수 정렬이 완벽히 된다.



## #5-5 공 색칠하기

- `  ball.style.backgroundColor = 'red'` 이런 식으로 JS 로 HTML의 style을 조절할 수 있다.

- 그냥 ball과 bonus의 공색깔을 바꾸는 함수는 동일하나 number와 tag만 다를 뿐이라 이것을 colorize라는 함수로 만들어서 하나로 압축시킬 수 있다.

  __여기서 엄청난 꿀팁이 변수 여러개를 한번에 수정하고 싶다면 바꾸고 싶은 변수 위에 커서를 찍어놓고 `Ctrl + D` 를 누르면 누를 때마다 같은 이름을 가진 변수를 찾아 하나씩 추가 되며 이렇게 여러개가 추가되면 한 번에 값을 바꿀 수 있다!__

  혹은 `Ctrl + H` 를 이용해 그 파일 내의 똑같은 변수를 모두 찾아 한번에 바꿀 수 있다.

  다만 이 방법은 파일 내 모든 변수를 다 바꾸므로 특정한 부분만 바꿀 때는 위처럼

  `Ctrl + D` 가 훨씬 유용하다.



## #5-6 setTimeout과 Q&A

- 긴장감을 위해 로또번호를 1초에 하나씩 보여주기 위해서 setTimeout을 써보자

```javascript
setTimeout(() => {
	실행할 것들
}, 1000)  // 여기서 단위는 ms이므로 1초는 1000ms
```

- 이전같은 경우에는 for 문에서 클로저 문제가 나왔지만 __let이 나오면서 사라짐__

- 반복문의 종류는 엄청 많다. `배열.forEach((요소, 인덱스))` , `for of`, `for in` 

  `.map()`과 `.forEach()` 는 엄청 비슷한데 return할 요소가 있다면 맵을 쓰고 그렇지 않다면 forEach 를 쓰는 것이 좋다.



- `async await`, `promise`, `promise.allSettled`

  프젝 할때 썼던 용어들인 것 같은데 튜토리얼을 보면서 정리를 해야겠다.

